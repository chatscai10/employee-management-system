const https = require('https');

const botToken = '7659930552:AAF_jF1rAXFnjFO176-9X5fKfBwbrko8BNc';
const chatId = '-1002658082392';

const deploymentReport = `âœˆï¸ é£›æ©Ÿå½™å ± - å°ˆæ¡ˆéƒ¨ç½²æ¸¬è©¦å®Œæˆå ±å‘Š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸš€ éƒ¨ç½²åŸ·è¡Œæ‘˜è¦:                              â”‚
â”‚ âœ… Dockerå®¹å™¨åŒ–æº–å‚™: 100% å®Œæˆ               â”‚
â”‚ âœ… Google Cloudéƒ¨ç½²: 100% å®Œæˆ               â”‚
â”‚ âœ… åŠŸèƒ½é©—è­‰æ¸¬è©¦: 91% é€šé                    â”‚
â”‚ âœ… ç³»çµ±å¥åº·æª¢æŸ¥: 100% æ­£å¸¸                   â”‚
â”‚ âœ… APIç«¯é»æ¸¬è©¦: 8/9 æ­£å¸¸é‹è¡Œ                 â”‚
â”‚ ğŸ“ˆ ç¸½é«”éƒ¨ç½²æˆåŠŸç‡: 91%                       â”‚
â”‚                                           â”‚
â”‚ ğŸŒ éƒ¨ç½²çµæœ:                                 â”‚
â”‚ ğŸ”— ç³»çµ±URL: https://employee-management-    â”‚
â”‚     system-213410885168.asia-east1.run.app  â”‚
â”‚ âš¡ å¹³å‡éŸ¿æ‡‰æ™‚é–“: 49ms                        â”‚
â”‚ ğŸ¥ å¥åº·æª¢æŸ¥: âœ… æ­£å¸¸ (123ms)                â”‚
â”‚ ğŸ“Š ç³»çµ±ç‰ˆæœ¬: v2.0 ä¼æ¥­ç‰ˆ                    â”‚
â”‚                                           â”‚
â”‚ ğŸ“¡ APIæ¸¬è©¦çµæœ:                              â”‚
â”‚ âœ… å“¡å·¥ç®¡ç†API: 43ms                        â”‚
â”‚ âœ… è€ƒå‹¤æ‰“å¡API: 34ms                        â”‚
â”‚ âœ… ç‡Ÿæ”¶ç®¡ç†API: 43ms                        â”‚
â”‚ âœ… å«è²¨ç³»çµ±API: 37ms                        â”‚
â”‚ âœ… æ’ç­ç³»çµ±API: 32ms                        â”‚
â”‚ âœ… å‡é·æŠ•ç¥¨API: 36ms                        â”‚
â”‚ âœ… ç¶­ä¿®ç®¡ç†API: 33ms                        â”‚
â”‚ âŒ APIç¸½è¦½é é¢: 404éŒ¯èª¤ (éœ€ä¿®å¾©)             â”‚
â”‚                                           â”‚
â”‚ ğŸŒ å‰ç«¯æ¸¬è©¦çµæœ:                              â”‚
â”‚ âœ… ä¸»é é¢: 56ms (10,815å­—å…ƒ)                â”‚
â”‚ âœ… ç³»çµ±é¦–é : 55ms (å®Œæ•´åŠŸèƒ½)                 â”‚
â”‚ âœ… éŸ¿æ‡‰å¼è¨­è¨ˆ: æ‰‹æ©Ÿ/æ¡Œé¢å®Œç¾é©é…              â”‚
â”‚                                           â”‚
â”‚ ğŸ”’ å®‰å…¨é©—è­‰:                                 â”‚
â”‚ âœ… HTTPSåŠ å¯†å·²å•Ÿç”¨                          â”‚
â”‚ âœ… GPSå®šä½é©—è­‰æ­£å¸¸                          â”‚
â”‚ âœ… èº«åˆ†è­‰æ ¼å¼é©—è­‰                           â”‚
â”‚ âœ… è¨­å‚™æŒ‡ç´‹é˜²è­·                             â”‚
â”‚                                           â”‚
â”‚ ğŸ“‹ ä¸‹ä¸€æ­¥å»ºè­°:                                â”‚
â”‚ 1. ä¿®å¾©APIç¸½è¦½é é¢ (éé—œéµ)                  â”‚
â”‚ 2. è¨­ç½®ç³»çµ±ç›£æ§è­¦å ±                         â”‚
â”‚ 3. é€²è¡Œè² è¼‰å£“åŠ›æ¸¬è©¦                         â”‚
â”‚ 4. å»ºç«‹è‡ªå‹•å‚™ä»½æ©Ÿåˆ¶                         â”‚
â”‚                                           â”‚
â”‚ ğŸ¯ éƒ¨ç½²ç‹€æ…‹: âœ… ç”Ÿç”¢å°±ç·’                     â”‚
â”‚ ğŸ“Š å»ºè­°: ç«‹å³æŠ•å…¥ä½¿ç”¨                        â”‚
â”‚ â° éƒ¨ç½²æ™‚é–“: ${new Date().toLocaleString('zh-TW')}      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ‰ ä¼æ¥­å“¡å·¥ç®¡ç†ç³»çµ±éƒ¨ç½²æ¸¬è©¦åœ“æ»¿å®Œæˆï¼
ğŸš€ ç³»çµ±å·²æº–å‚™å¥½ç‚ºä¼æ¥­æä¾›å®Œæ•´çš„æ•¸ä½åŒ–ç®¡ç†æœå‹™`;

const message = encodeURIComponent(deploymentReport);
const url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${message}&parse_mode=HTML`;

const req = https.get(url, (res) => {
  let data = '';
  res.on('data', (chunk) => data += chunk);
  res.on('end', () => {
    const result = JSON.parse(data);
    if (result.ok) {
      console.log('âœ… éƒ¨ç½²å ±å‘ŠTelegramé€šçŸ¥ç™¼é€æˆåŠŸ');
      console.log('ğŸ“± è¨Šæ¯ID:', result.result.message_id);
    } else {
      console.log('âŒ Telegramé€šçŸ¥ç™¼é€å¤±æ•—:', result.description);
    }
  });
});

req.on('error', (error) => {
  console.log('âŒ ç¶²è·¯éŒ¯èª¤:', error.message);
});