const https = require("https");

const botToken = "7659930552:AAF_jF1rAXFnjFO176-9X5fKfBwbrko8BNc";
const chatId = "-1002658082392";

const message = "Employee Management System Architecture Analysis Completed\n\nOverall Score: 68/100\nMaturity: Early Stage\nProduction Readiness: 25%\nRisk Level: High\n\nKey Findings:\n- Basic framework exists but lacks complete functionality\n- Authentication mechanism needs urgent fix (401 error)\n- CRUD operations severely incomplete\n- Security measures need significant enhancement\n\nImprovement Roadmap:\n- Phase 1: Fix auth + implement CRUD (1-3 months)\n- Phase 2: Permission system + business processes (3-6 months)\n- Phase 3: Microservices + performance optimization (6-12 months)\n\nGit Status: Committed architecture analysis tool (b12dd41e)\nReport Files: employee-management-architecture-analysis-*.json\n\nGenerated by Claude Code Intelligence Analysis System";

const data = JSON.stringify({
    chat_id: chatId,
    text: message
});

const options = {
    hostname: "api.telegram.org",
    port: 443,
    path: `/bot${botToken}/sendMessage`,
    method: "POST",
    headers: {
        "Content-Type": "application/json",
        "Content-Length": data.length
    }
};

const req = https.request(options, (res) => {
    let responseData = "";
    res.on("data", (chunk) => {
        responseData += chunk;
    });
    res.on("end", () => {
        console.log("Status:", res.statusCode);
        console.log("Response:", responseData);
        if (res.statusCode === 200) {
            console.log("âœ… Telegram notification sent successfully\!");
        }
    });
});

req.on("error", (error) => {
    console.error("Error:", error);
});

req.write(data);
req.end();
